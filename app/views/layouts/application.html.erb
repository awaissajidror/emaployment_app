<!DOCTYPE html>
<html>
<head>
  <title>EmploymentApp</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
<main class="container mx-auto mt-28 text-center px-5">
  <%= yield %>
</main>
</body>
</html>



<script>
    $(document).ready(function () {
        $('.personal-data-opener').on('click', function () {
            $('.personal-data-modal').show();
        });

        $('.close-personal-data-button').on('click', function () {
            $('.personal-data-modal').hide();
        });

        $('.employment-opener').on('click', function () {
            $('.employment-modal').show();
        });

        $('.close-employment-button').on('click', function () {
            $('.employment-modal').hide();
        });

        $('#FirstName').keyup(function (e) {
            const input = $('#FirstName').val();
            if (input.length >= 25) {
                $('.FirstNameError').removeClass('hidden');
                e.preventDefault();
            } else if (input.length < 25) {
                $('.FirstNameError').addClass('hidden');
            }
        })

        $('#LastName').keyup(function (e) {
            const input = $('#LastName').val();
            if (input.length >= 50) {
                $('.LastNameError').removeClass('hidden');
                e.preventDefault();
            } else if (input.length <= 50) {
                $('.FirstNameError').addClass('hidden');
            }
        });

        $('#EmailAddress').keyup(function () {
            const $email = this.value;
            validateEmail($email);
        });

        function validateEmail(email) {
            const emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            if (!emailReg.test(email)) {
                $('.EmailError').show();
                $('#PhoneNumber').attr('disabled', 'disabled');
            } else {
                $('.EmailError').hide();
                $('#PhoneNumber').removeAttr('disabled');
            }
        }

        $('#PhoneNumber').keyup(function () {
            $(this).val($(this).val().replace(/(\d{3})\-?(\d{3})\-?(\d{4})/, '$1-$2-$3'))
        });

        $('.personal-data-btn').on('click', function (e) {
            setTimeout(function () {
                $('.employment-modal').show();
            }, 300);
        });
    });
</script>
